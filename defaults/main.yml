---
# defaults file for ansible-role-haproxy

default_log: 127.0.0.1 local2
default_chroot: /var/lib/haproxy
default_pidfile: /var/run/haproxy.pid
default_maxconn: 4000
default_user: haproxy
default_group: haproxy

haproxy_default_listen:
  - mode                    http
  - log                     global
  - retries                 3
  - maxconn                 3000

haproxy_defaults_options:
  - httplog
  - dontlognull
  - http-server-close
  - forwardfor except 127.0.0.0/8
  - redispatch

haproxy_defaults_timeouts:
  - http-request            10s
  - queue                   1m
  - connect                 10s
  - client                  1m
  - server                  1m
  - http-keep-alive         10s
  - check                   10s

# Add listen configuration
# Examples:
#haproxy_listen_config:|
#listen int_espaceclient 1.1.1.1:9120
#    balance     roundrobin
#    option      forwardfor
#    server intapp1 intapp1:9020 check
#    server intapp2 intapp2:9020 check
haproxy_listen_config:

# Add frontend configuration
# Examples:
#haproxy_frontend_config:|
#frontend main
#    bind *:5000
#    default_backend  app
haproxy_frontend_config:

# Add backend configuration
# Examples:
#haproxy_backend_config:|
#backend app2
#    balance     roundrobin
#    server  app3 127.0.0.1:5003 check
#    server  app4 127.0.0.1:5004 check
haproxy_backend_config:

# Add custom configuration
# Examples:
#haproxy_custom_config:|
#frontend main
#    bind *:5000
#    default_backend  app
#
#backend app2
#    balance     roundrobin
#    server  app3 127.0.0.1:5003 check
#    server  app4 127.0.0.1:5004 check
haproxy_custom_config:
